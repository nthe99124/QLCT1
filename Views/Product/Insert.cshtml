@using QLCT.Models
@{
    ViewBag.Title = "Insert";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model QLCT.Models.Product
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Thêm sản phẩm</title>
</head>
<body>
    <div class="container content" id="content-layout">
        <form method="post" action="/Product/Insert">
            <div class="title-header">
                <div class="title-grid">
                    <div class="title-flexi-truncate">
                        <div class="title-media">
                            <div class="title-media__figure">
                                <div>
                                    <div class="title-icon" style="background-color: #A094ED">
                                        <span>
                                            <img src="~/Content/CustomCSS/Image/contact_120.png" class="title-icon" alt="Contacts" title="Contacts">
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <nav>
                                    <ol class="title-ol">
                                        <li class="title-li">
                                            <span>Sản phẩm</span>
                                        </li>
                                    </ol>
                                </nav>
                                <div class="title-grid">
                                    <div class="title-header__title">
                                        <div class="title-name">
                                            <div>
                                                <span>Thêm sản phẩm</span>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="data-content row">
                <div class="col-md-9">
                    <div class="col-md-12">
                        <div class="general-infor margin-top-15">
                            <div class="col-md-12 infor-title">
                                Th&#244;ng tin cơ bản
                            </div>
                            <div class="col-md-12 infor-body" style="padding-top: 25px; padding-left: 100px">
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Tên sản phẩm</label><div class='col-md-8'><input type="text" class="form-control" name='Name'></div>
                                </div>
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Số Lượng</label><div class='col-md-8'><input type="text" class="form-control" name='NumberRemain'></div>
                                </div>
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Mô tả</label><div class='col-md-8'><input type="text" class="form-control" name='Description'></div>
                                </div>
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Giá</label><div class='col-md-8'><input type="text" class="form-control" name='Price'></div>
                                </div>
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Giảm giá(%)</label><div class='col-md-8'><input type="text" class="form-control" name='Discount'></div>
                                </div>
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Đơn vị tính</label><div class='col-md-8'><input type="text" class="form-control" name='Unit'></div>
                                </div>
                                <div class="form-group col-md-6 padding-top-10" id="">
                                    <label class='col-md-4 control-label'>Thời hạn bảo hành</label><div class='col-md-8'><input type='text' class='form-control' name="MonthOfGuarantee"/></div>
                                </div>
                            </div>
                            <div class="form-group col-md-2 padding-top-10" id="" style="margin-left: 400px">
                                <button type="button" onclick="getValue()" name="" id="btnThemsp" value="1" style="width: 150px">Thêm vào danh sách</button>
                            </div>
                            <input type="hidden" id="hiddenIndex" name="hiddenIndex" />
                        </div>
                    </div>

                    <div class="col-md-12 infor-title">
                        Danh sách các sản phẩm thêm
                    </div>

                    <div class="col-md-12 infor-body" style="padding-top: 25px; padding-left: 100px">
                        <script type="text/javascript">
                            function getValue() {
                                var text1 = "#table"; var text2 = "#remove"; var text3 = " ";
                                var i = $('#btnThemsp').val();
                                let html = '<tr align="center" class="tablerun" id="table' + i + '">';
                                html += '<td>';
                                html += $('#Name').val();
                                html += '</td>';
                                html += '<td>';
                                html += $('#sl').val();
                                html += '</td>';
                                html += '<td>';
                                html += $('#Description').val();
                                html += '</td>';
                                html += '<td>';
                                html += $('#price').val();
                                html += '</td>';
                                html += '<td>';
                                html += $('#discount').val();
                                html += '</td>';
                                html += '<td>';
                                html += $('#time').val();
                                html += '</td>';
                                html += '<td>';
                                html += $('#unit').val();
                                html += '</td>';
                                html += '<td id="ahihi">';
                                html += '<button type="button" id="isDelete" onclick="var indexdiv = ' + text1 + ' + ' + i + '; $(indexdiv).remove(); $(' + text2 + ').val($(' + text2 + ').val() + ' + text3 + ' + ' + i + '.toString());" style="margin-left: 10px"><i class="fa fa-trash-o" aria-hidden="true"></i></button>';
                                html += '</td>';
                                html += '</tr>';
                                $("#tbody").append(html);
                                $('#hiddenIndex').val(i);
                                let html1 = '<input type="hidden" name="NamePro' + i + '" value="' + $('#Name').val() + '" />';
                                html1 += '<input type="hidden" name="NumberRemain' + i + '" value="' + $('#sl').val() + '" />';
                                html1 += '<input type="hidden" name="Description' + i + '" value="' + $('#sl').val() + '" />';
                                html1 += '<input type="hidden" name="Price' + i + '" value="' + $('#price').val() + '" />';
                                html1 += '<input type="hidden" name="Discount' + i + '" value="' + $('#discount').val() + '" />';
                                html1 += '<input type="hidden" name="MonthOfGuarantees' + i + '" value="' + $('#time').val() + '" />';
                                html1 += '<input type="hidden" name="Unit' + i + '" value="' + $('#unit').val() + '" />';
                                $("#tbody").append(html1);
                                $('#btnThemsp').val(++i);
                            };
                            //$("body").on("click", "#isDelete", function () {
                            //    var val = $('#isDelete').val();
                            //    var indexdiv = "#table" + val;$(indexdiv).remove();$("#remove").val($("#remove").val() + "  " + val.toString());
                            //}); 
                            //$('.Delete').each(function (i) {
                            //    debugger;
                            //    var indexrun = i + 1;
                            //    var isDele = "isDelete" + indexrun;
                            //    $(isDele).click(function(){
                            //        var indexdiv = ".table" + indexrun;
                            //        debugger;
                            //        $(indexdiv).removeClass();
                            //    });
                            //});
                        </script>
                    </div>
                    <div style="padding-top: 10px; margin-left: 50px">
                        <table id="myTable" class="table table-bordered" style="background-color: white;">
                            <thead>
                                <tr align="center">
                                    <th class="sort_col_table" scope="col"> Tên sản phẩm <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Số lượng <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Mô tả <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Giá <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Giảm giá <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Thời hạn bảo hành <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Đơn vị <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                    <th class="sort_col_table" scope="col"> Xoá <i class="fa fa-exchange" aria-hidden="true"></i></th>
                                </tr>
                                <tr align="center">
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search1()" style="width: 150px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search2()" style="width: 150px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search3()" style="width: 100px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search4()" style="width: 150px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search5()" style="width: 100px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search6()" style="width: 100px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px" class="sort_col_table" scope="col">
                                        <input type="text" name="" id="search1" onkeyup="search7()" style="width: 100px">
                                        <i class="fa fa-search" aria-hidden="true" style="position: absolute; padding-top: 5px; padding-left: 5px; font-size: 15px"></i>
                                    </th>
                                    <th style="border-color: black; padding-bottom: 20px; width: 80px" class="sort_col_table" scope="col">
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="tbody">
                            </tbody>

                        </table>
                        <input type="text" id="remove" name="remove" />
                        <div id="test"></div>
                    </div>
                    <div class="col-md-12 " style="padding-left: 200px">
                        <div class="margin-top-30">
                            <div class="col-md-3">
                            </div>
                            <div class="col-md-6 text-center">
                                <button type="submit" class="btn btn-success">
                                    Thêm sản phẩm
                                </button>
                                <a href="~/Product/Index" class="btn grey-salt gray" type="button">
                                    <i></i> Hủy
                                </a>
                            </div>
                            <div class="col-md-3">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</body>
</html>
